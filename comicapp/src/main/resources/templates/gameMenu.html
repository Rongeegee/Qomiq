<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>Game Menu</title>





    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">




    <link rel="stylesheet" type="text/css" href="/css/explore.css">






<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->
<!--    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>-->
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">

    <div class="navbar-brand" style="color:#9b9e19;">Qomiq</div>
    <ul class="nav navbar-nav">
        <li class="nav-item"><a href="/home">Home</a></li>
        <li class="nav-item"><a href="/create">Create</a></li>
        <li class="nav-item active"><a href="/explore">Explore</a></li>
        <li class="nav-item"><a href="/about">About</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right ml-auto">
        <li th:switch="${currentUser}">
            <a th:case="null" href="/registration"><span class="glyphicon glyphicon-user"></span> Sign Up</a>
            <a th:case="*" href="/logout"><span class="glyphicon glyphicon-user"></span> Logout</a>
        </li>
        <li th:switch="${currentUser}">
            <a th:case="null" href="/login"><span class="glyphicon glyphicon-log-in"></span>Login</a>
            <a th:case="*" href="/account"><img th:src="@{${' https://s3.us-east-2.amazonaws.com/comic-bucket/profileImage' + currentUser.id + '.png'}}" onerror="this.onerror=null;this.src='https://s3.us-east-2.amazonaws.com/comic-bucket/defaultprofileimage.png';" style="width:50px; height:40px"></a>
        </li>
        <li th:if="${currentUser} != null">
            <a href="/play"><span class="glyphicon glyphicon-phone-alt"></span></a>
        </li>
    </ul>

    <!--<ul sec:authorize= "isAnonymous()" class="nav navbar-nav navbar-right">-->
    <!--<li><a href="/registration"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>-->
    <!--<li th:switch="${currentUser}">-->
    <!--<a th:case="null" href="/login"><span class="glyphicon glyphicon-log-in"></span>Login</a>-->
    <!--<a th:case="*" href="/account"><img th:src="@{${'https://s3.amazonaws.com/seriescovers/' + currentUser.id + '.png'}}" alt="Trulli" style="width:50px; height:40px"></a>-->
    <!--</li>-->
    <!--</ul>-->

</nav>



<h1>Game Menu</h1>


<!--<div class="container">-->
<!--    <div class="row">-->
<!--        <div class="col-xs-4"> Explore Comics</div>-->
<!--        <div class="col-xs-6">-->
<!--            <div class="input-group">-->
<!--                <div class="input-group-btn search-panel">-->
<!--                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">-->
<!--                        <span id="search_concept">Category</span> <span class="caret"></span>-->
<!--                    </button>-->

<!--                    <ul class="dropdown-menu" role="menu">-->
<!--                        &lt;!&ndash;<li><a href="/explore/Action">Action</a></li>&ndash;&gt;-->
<!--                        <li><a th:href="@{/explore/searchBy(category=Action )}">Action</a></li>-->
<!--                        <li><a th:href="@{/explore/searchBy(category=Comedy )}">Comedy</a></li>-->
<!--                        <li><a th:href="@{/explore/searchBy(category=Political )}">Political</a></li>-->
<!--                        <li><a th:href="@{/explore/searchBy(category= 'Science Fiction' )}">Science Fiction</a></li>-->
<!--                        <li><a th:href="@{/explore/searchBy(category=Anime )}">Anime</a></li>-->
<!--                        <li><a th:href="@{/explore/searchBy(category=Adventure )}">Adventure</a></li>-->
<!--                        <li class="divider"></li>-->
<!--                        <li><a th:href="@{/explore/searchBy(category=All )}">Anything</a></li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <input type="hidden" name="search_param" value="all" id="search_param">-->
<!--                <input type="text" class="form-control" name="x" placeholder="Search by comic strip, series, author">-->
<!--                <span class="input-group-btn">-->
<!--                    <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>-->
<!--                </span>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->




<section>


    <div class="row">

<div class="col-md-3" >

    <div  class="card" th:if = "${game.finished == true}" >
        <div class="card-header text-center"> <h4 class="card-title">Game Winner</h4></div>

        <div class="text-center">
        <img id="ser-img" class="img-thumbnail" th:src="@{${'https://s3.us-east-2.amazonaws.com/comic-bucket/gameWinner' + game.id + '.png'}}" onerror="this.onerror=null;this.src='https://ik.imagekit.io/demo/img/tr:di-medium_cafe_B1iTdD0C.jpg/non_existent_image.jpg';" />


        </div>

        <div class="card-body">

            <p class="card-text">

            </p>
        </div>




    </div>

</div>

        <div class="col-md-9"></div>

    </div>




</section>




<section>

<!--    <div th:if = "${game.finished == true}">-->
<!--        <div th:text = "${game.gameName}"></div>-->
<!--        <img id="ser-img" class="img-thumbnail" th:src="@{${'https://s3.us-east-2.amazonaws.com/comic-bucket/gameWinner' + game.id + '.png'}}" onerror="this.onerror=null;this.src='https://ik.imagekit.io/demo/img/tr:di-medium_cafe_B1iTdD0C.jpg/non_existent_image.jpg';" />-->
<!--    </div>-->

    <h1>All the Submissions</h1>


    <div class="row" id="row-display">
        <!-- Start of Card Groups Layout -->
        <div id="display"  class="col-md-3" th:each="page,iter : ${gamePages}">
            <div th:if = "${page.finished}">
                <div  class="card">
                        <div class= "card-header text-center" >
                            <div th:text = "${page.title}"></div>
                        </div>
                        <div class="text-center">
                            <img id="ser-img" class="img-thumbnail" th:src="@{${'https://s3.us-east-2.amazonaws.com/comic-bucket/pageWinner' + page.id + '.png'}}" onerror="this.onerror=null;this.src='https://ik.imagekit.io/demo/img/tr:di-medium_cafe_B1iTdD0C.jpg/non_existent_image.jpg';" />
                        </div>
                    <a th:href="@{'/gameSubmissions/' + ${page.id}}">Game Submissions</a>
                </div>
            </div>
            <div th:if = "${!page.finished and !game.finished}">
                <div  class="card">
                    <a th:href="@{'/gameEdit/' + ${page.id}}">
                        <div class= "card-header text-center" >
                        </div>
                        <div class="text-center">
                            <img id="ser-img" class="img-thumbnail" th:src="@{${'https://s3.us-east-2.amazonaws.com/comic-bucket/gamePage' + page.id + '.png'}}" onerror="this.onerror=null;this.src='https://ik.imagekit.io/demo/img/tr:di-medium_cafe_B1iTdD0C.jpg/non_existent_image.jpg';" />
                        </div>
                    </a>

                    <div class="card-footer text-center">
                        <h5><a th:href="@{'/gameSubmissions/' + ${page.id}}">Game Submissions</a></h5>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div th:if="${currentUser.id == game.userId and game.finished != true}">
        <a th:href="@{'/endRound/' + ${game.id}}"><button>End Round</button></a>
    </div>
    <div th:if = "${currentUser.id == game.userId and game.finished != true}">
        <a th:href="@{'/endGame/' + ${game.id}}"><button>End Game</button></a>
    </div>
</section>



<section>
    <div id ="displaylist">

        <h1>Collaborators</h1>

        <div class="row" id="display-row">
            <div th:each="player,iter : ${players}">
                <div class="col-xs-3">
                    <figure>
                        <figtitle th:text="${users[iter.index].username}"></figtitle>
                        <br>
                        <a th:href="@{'/profile/' + ${player.userId}}"><img th:src="@{${' https://s3.us-east-2.amazonaws.com/comic-bucket/profileImage' + users[iter.index].id + '.png'}}" onerror="this.onerror=null;this.src='https://s3.us-east-2.amazonaws.com/comic-bucket/defaultprofileimage.png';" style="width:50px; height:40px"></a>
                        <figcaption>
                            <a th:href="@{'/profile/' + ${player.userId}}"><button>VIEW</button></a>
                        </figcaption>
                    </figure>
                </div>
            </div>

        </div>
    </div>

</section>












    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

















</body>
</html>